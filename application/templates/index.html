{% extends "base.html" %}

{% block title %}Калькулятор кредитов{% endblock %}

{% block content %}
<h1 class="text-center">Калькулятор кредитов</h1>

<form method="post" id="loanForm" novalidate>
    <div class="row">
        <div class="col-md-5">
            <div class="form-group">
                <label for="income">Ежемесячный доход:</label>
                <input type="number" class="form-control" name="income" id="income" step="0.01" required placeholder="Например, 100000">
                <div class="invalid-feedback">Пожалуйста, введите ежемесячный доход.</div>
            </div>
            <div class="form-group">
                <label for="expenses">Расходы на проживание:</label>
                <input type="number" class="form-control" name="expenses" id="expenses" step="0.01" required placeholder="Например, 50000">
                <div class="invalid-feedback">Пожалуйста, введите расходы на проживание.</div>
            </div>
            <div class="form-group">
                <label for="strategy">Выберите стратегию погашения кредитов:</label>
                <select class="form-control" name="strategy" id="strategy">
                    <option value="snowball">Метод снежного кома (от наименьшего долга)</option>
                    <option value="avalanche">Метод лавины (от наивысшей процентной ставки)</option>
                </select>
            </div>
        </div>

        <div class="col-md-7">
            <h2>Добавить кредит</h2>
            <div id="loanInputs">
                <div class="form-group">
                    <label>Название кредита:</label>
                    <input type="text" class="form-control" name="loan_name" placeholder="Например, Кредит 1" required>
                </div>
                <div class="form-group">
                    <label>Остаток долга:</label>
                    <input type="number" class="form-control" name="loan_balance" step="0.01" required placeholder="Например, 250000">
                </div>
                <div class="form-group">
                    <label>Ежемесячный обязательный платеж:</label>
                    <input type="number" class="form-control" name="loan_payment" step="0.01" placeholder="Например, 15000">
                </div>
                <div class="form-group">
                    <label>Процентная ставка (% годовых):</label>
                    <input type="number" class="form-control" name="loan_interest" step="0.01" required placeholder="Например, 12">
                </div>
                <button type="button" class="btn btn-secondary" onclick="addLoan()">Добавить кредит</button>
            </div>

            <h2 class="mt-4">Ваши кредиты</h2>
            <div id="loanList"></div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Рассчитать план</button>
</form>
{% endblock %}
